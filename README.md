Code of my Masters thesis.
Will hopefully receive a major cleanup and documentation soon.
Right now its full of dirty hacks.
